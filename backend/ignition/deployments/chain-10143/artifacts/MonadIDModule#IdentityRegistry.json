{
  "_format": "hh-sol-artifact-1",
  "contractName": "IdentityRegistry",
  "sourceName": "contracts/IdentityRegistry.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_verifier",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_humanToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyVerified",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "CommitmentAlreadyUsed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAgeThreshold",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidProof",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotVerified",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "IdentityRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "commitmentHash",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "IdentityVerified",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "AGE_THRESHOLD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getIdentity",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "isHuman",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isOver18",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "commitmentHash",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "tokenId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "verifiedAt",
              "type": "uint256"
            }
          ],
          "internalType": "struct IdentityRegistry.Identity",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "humanToken",
      "outputs": [
        {
          "internalType": "contract MonadHumanToken",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "identities",
      "outputs": [
        {
          "internalType": "bool",
          "name": "isHuman",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isOver18",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "commitmentHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "verifiedAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "isHuman",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "isOver18",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "isUnique",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "revokeIdentity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "usedCommitments",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "verifier",
      "outputs": [
        {
          "internalType": "contract IGroth16Verifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "_pA",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "_pB",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "_pC",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "_pubSignals",
          "type": "uint256[2]"
        }
      ],
      "name": "verifyAndRegister",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b5060405161096b38038061096b83398101604081905261002f91610062565b6001600160a01b039182166080521660a052610095565b80516001600160a01b038116811461005d57600080fd5b919050565b6000806040838503121561007557600080fd5b61007e83610046565b915061008c60208401610046565b90509250929050565b60805160a05161089d6100ce6000396000818160ce015281816104bb015261068701526000818161010d0152610407015261089d6000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c8063775e611b11610071578063775e611b1461019d578063dd4db94f146101db578063f653b81e146101e3578063f72c436f1461024d578063f83b4f6c14610279578063fe0c346c1461029c57600080fd5b806317727610146100ae5780631e131e20146100c95780632b7ac3f3146101085780632fea7b811461012f5780635f91083514610188575b600080fd5b6100b6601281565b6040519081526020015b60405180910390f35b6100f07f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c0565b6100f07f000000000000000000000000000000000000000000000000000000000000000081565b61014261013d36600461071c565b6102cd565b6040516100c09190600060a08201905082511515825260208301511515602083015260408301516040830152606083015160608301526080830151608083015292915050565b61019b610196366004610763565b610364565b005b6101cb6101ab36600461071c565b6001600160a01b0316600090815260208190526040902060010154151590565b60405190151581526020016100c0565b61019b610607565b6102236101f136600461071c565b600060208190529081526040902080546001820154600283015460039093015460ff8084169461010090940416929085565b6040805195151586529315156020860152928401919091526060830152608082015260a0016100c0565b6101cb61025b36600461071c565b6001600160a01b031660009081526020819052604090205460ff1690565b6101cb6102873660046107c3565b60016020526000908152604090205460ff1681565b6101cb6102aa36600461071c565b6001600160a01b0316600090815260208190526040902054610100900460ff1690565b6103036040518060a001604052806000151581526020016000151581526020016000815260200160008152602001600081525090565b506001600160a01b031660009081526020818152604091829020825160a081018452815460ff808216151583526101009091041615159281019290925260018101549282019290925260028201546060820152600390910154608082015290565b3360009081526020819052604090205460ff161561039557604051630231faf760e31b815260040160405180910390fd5b80356020820135601281146103bd5760405163202a3bfb60e21b815260040160405180910390fd5b60008281526001602052604090205460ff16156103ed57604051635be00f0f60e11b815260040160405180910390fd5b604051637ae4eb4f60e11b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f5c9d69e90610442908a908a908a908a906004016107dc565b602060405180830381865afa15801561045f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610483919061082c565b9050806104a3576040516309bde33960e01b815260040160405180910390fd5b6040516335313c2160e11b81523360048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636a627842906024016020604051808303816000875af115801561050c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610530919061084e565b6040805160a081018252600180825260208083018281528385018a8152606080860188815242608088018181523360008181528089528b81209a518b54985161ffff1990991690151561ff0019161761010098151598909802979097178a559451898901559151600289015590516003909701969096558b835284845291869020805460ff191690941790935584518a8152918201869052938101929092529293507f17b8dda3e50b430da37d471a3b5baf981c2f13e506169b458550d47bc3e42941910160405180910390a25050505050505050565b336000908152602081905260409020805460ff166106385760405163a95362b560e01b815260040160405180910390fd5b60028181015433600090815260208190526040808220805461ffff19168155600181018390559384018290556003909301559051630852cd8d60e31b8152600481018290526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906342966c6890602401600060405180830381600087803b1580156106cb57600080fd5b505af11580156106df573d6000803e3d6000fd5b50506040514281523392507f3e3c59bb369a9da1f5c9df74adb044e1181c4e20448838f42d9e860bb0a18cdb915060200160405180910390a25050565b60006020828403121561072e57600080fd5b81356001600160a01b038116811461074557600080fd5b9392505050565b806040810183101561075d57600080fd5b92915050565b600080600080610140858703121561077a57600080fd5b610784868661074c565b935060c085018681111561079757600080fd5b6040860193506107a7878261074c565b9250506107b886610100870161074c565b905092959194509250565b6000602082840312156107d557600080fd5b5035919050565b61014081016040868337604082018560005b600281101561080f57604082843760409283019291909101906001016107ee565b50505060408460c084013760408361010084013795945050505050565b60006020828403121561083e57600080fd5b8151801515811461074557600080fd5b60006020828403121561086057600080fd5b505191905056fea264697066735822122009b8015a63ff7929346593f82a83da23dcf9405b9f2d669d2584b8aecc647e7f64736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c8063775e611b11610071578063775e611b1461019d578063dd4db94f146101db578063f653b81e146101e3578063f72c436f1461024d578063f83b4f6c14610279578063fe0c346c1461029c57600080fd5b806317727610146100ae5780631e131e20146100c95780632b7ac3f3146101085780632fea7b811461012f5780635f91083514610188575b600080fd5b6100b6601281565b6040519081526020015b60405180910390f35b6100f07f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c0565b6100f07f000000000000000000000000000000000000000000000000000000000000000081565b61014261013d36600461071c565b6102cd565b6040516100c09190600060a08201905082511515825260208301511515602083015260408301516040830152606083015160608301526080830151608083015292915050565b61019b610196366004610763565b610364565b005b6101cb6101ab36600461071c565b6001600160a01b0316600090815260208190526040902060010154151590565b60405190151581526020016100c0565b61019b610607565b6102236101f136600461071c565b600060208190529081526040902080546001820154600283015460039093015460ff8084169461010090940416929085565b6040805195151586529315156020860152928401919091526060830152608082015260a0016100c0565b6101cb61025b36600461071c565b6001600160a01b031660009081526020819052604090205460ff1690565b6101cb6102873660046107c3565b60016020526000908152604090205460ff1681565b6101cb6102aa36600461071c565b6001600160a01b0316600090815260208190526040902054610100900460ff1690565b6103036040518060a001604052806000151581526020016000151581526020016000815260200160008152602001600081525090565b506001600160a01b031660009081526020818152604091829020825160a081018452815460ff808216151583526101009091041615159281019290925260018101549282019290925260028201546060820152600390910154608082015290565b3360009081526020819052604090205460ff161561039557604051630231faf760e31b815260040160405180910390fd5b80356020820135601281146103bd5760405163202a3bfb60e21b815260040160405180910390fd5b60008281526001602052604090205460ff16156103ed57604051635be00f0f60e11b815260040160405180910390fd5b604051637ae4eb4f60e11b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f5c9d69e90610442908a908a908a908a906004016107dc565b602060405180830381865afa15801561045f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610483919061082c565b9050806104a3576040516309bde33960e01b815260040160405180910390fd5b6040516335313c2160e11b81523360048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690636a627842906024016020604051808303816000875af115801561050c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610530919061084e565b6040805160a081018252600180825260208083018281528385018a8152606080860188815242608088018181523360008181528089528b81209a518b54985161ffff1990991690151561ff0019161761010098151598909802979097178a559451898901559151600289015590516003909701969096558b835284845291869020805460ff191690941790935584518a8152918201869052938101929092529293507f17b8dda3e50b430da37d471a3b5baf981c2f13e506169b458550d47bc3e42941910160405180910390a25050505050505050565b336000908152602081905260409020805460ff166106385760405163a95362b560e01b815260040160405180910390fd5b60028181015433600090815260208190526040808220805461ffff19168155600181018390559384018290556003909301559051630852cd8d60e31b8152600481018290526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906342966c6890602401600060405180830381600087803b1580156106cb57600080fd5b505af11580156106df573d6000803e3d6000fd5b50506040514281523392507f3e3c59bb369a9da1f5c9df74adb044e1181c4e20448838f42d9e860bb0a18cdb915060200160405180910390a25050565b60006020828403121561072e57600080fd5b81356001600160a01b038116811461074557600080fd5b9392505050565b806040810183101561075d57600080fd5b92915050565b600080600080610140858703121561077a57600080fd5b610784868661074c565b935060c085018681111561079757600080fd5b6040860193506107a7878261074c565b9250506107b886610100870161074c565b905092959194509250565b6000602082840312156107d557600080fd5b5035919050565b61014081016040868337604082018560005b600281101561080f57604082843760409283019291909101906001016107ee565b50505060408460c084013760408361010084013795945050505050565b60006020828403121561083e57600080fd5b8151801515811461074557600080fd5b60006020828403121561086057600080fd5b505191905056fea264697066735822122009b8015a63ff7929346593f82a83da23dcf9405b9f2d669d2584b8aecc647e7f64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}